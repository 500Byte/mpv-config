#### ------- Mpv-Playlistmanager configuration ------- ####

#### ------- FUNCTIONAL ------- ####

# Navigation keybinds only override when playlist is visible
# Set "no" to show the playlist with any navigation key
dynamic_binds=yes

# Main menu key binding
key_showplaylist=

# Show playlist when holding key
key_peek_at_playlist=

## Dynamic binding keys should not be set in input.conf (not conflicting with statically bound keys)
## Multiple keys can be bound, separated by spaces
key_moveup=UP WHEEL_UP
key_movedown=DOWN WHEEL_DOWN
key_movepageup=PGUP MBTN_BACK
key_movepagedown=PGDWN MBTN_FORWARD
key_movebegin=HOME
key_moveend=END
key_selectfile=RIGHT
key_unselectfile=LEFT
key_playfile=ENTER MBTN_LEFT
key_removefile=DEL BS
key_closeplaylist=ESC MBTN_RIGHT

## Additional functionality key bindings dynamically bound
## Multiple keys can be bound, separated by spaces
key_sortplaylist=s
key_shuffleplaylist=r R
key_reverseplaylist=S
key_loadfiles=l L
key_saveplaylist=p P

# JSON replace format, see .lua for instructions
# example json=[{"ext":{"all":true},"rules":[{"_":" "}]},{"ext":{"mp4":true,"mkv":true},"rules":[{"^(.+)%..+$":"%1"},{"%s*[%[%(].-[%]%)]%s*":""},{"(%w)%.(%w)":"%1 %2"}]},{"protocol":{"http":true,"https":true},"rules":[{"^%a+://w*%.?":""}]}]
# empty for no replacement
filename_replace=[{"protocol":{"all":true},"rules":[{"%%(%x%x)":"hex_to_char"}]},{"protocol":{"http":true,"https":true},"rules":[{"^%a[%a%d]+://localhost:.*/":""}]}]

## Specify file types to search for and load from directories. Note: redundant with autoload.lua script functionality
#loadfiles_filetypes=["3gp","amr","amv","asf","avi","avi","bdmv","f4v","flv","ifo","iso","m2ts","m4v","mkv","mov","mp4","mpeg","mpg","ogv","rm","rmvb","ts","vob","webm","wmv"]
# Load one or more files into playlist on startup. Note: redundant with autoload.lua script functionality
loadfiles_on_start=no

# Allow playlist manager to write watch later config when navigating between files
allow_write_watch_later_config=no

# Load files from working directory on idle start
loadfiles_on_idle_start=no

# Always append loaded files after current playing file
loadfiles_always_append=no

# Specify whether to naturally sort when adding files to playlist after initial load
sortplaylist_on_file_add=no

# Specify sorting method to use with sorting functionality, must be one of: "name-asc", "name-desc", "date-asc", "date-desc", "size-asc", "size-desc".
default_sort=name-asc

# linux | windows | auto
system=auto

# Use ~ for home directory. Leave blank to use mpv/playlists
playlist_savepath=

# Specify content to display when files are loaded. 2 shows playlist, 1 shows current file (filename bar applied), 0 shows nothing
show_playlist_on_fileload=0

# Synchronize cursor position with current playing file on playlist load
sync_cursor_on_load=yes

# Reset cursor navigation when playlist is closed
reset_cursor_on_close=yes

## Automatically loop cursor to first entry when reaching end
loop_cursor=yes

# Display visual feedback on OSD when saving, shuffling, reversing playlist
display_osd_feedback=no

#### ------- VISUAL ------- ####

# Prefer to display titles for the following files: "all", "url", "none". Sorting still uses filenames
prefer_titles=url

# Specify youtube-dl executable to use for title parsing from urls, can be absolute path
youtube_dl_executable=yt-dlp

# Use youtube-dl/yt-dlp to resolve titles of urls in playlist, default: no
# prefer_titles must be set to "url" or "all" for this to work properly
resolve_url_titles=yes

# Specify timeout duration for title resolution of urls in playlist. Default: 15s
resolve_title_timeout=15

# Specify number of url media titles to resolve concurrently. Higher numbers may cause noticeable lag
concurrent_title_resolve_limit=10

## Duration playlist is displayed on OSD
playlist_display_timeout=5

## Number of list entries displayed after truncation
showamount=13

## Scale playlist with window resizing
scale_playlist_by_window=yes

## Font style for playlist
# example {\fnUbuntu\fs10\b0\bord1} equals: font=Ubuntu, size=10, bold=no, border=1
# read http://docs.aegisub.org/3.2/ASS_Tags/ for reference of tags
# no value defaults to OSD settings in mpv.conf
style_ass_tags={\fnNoto Sans CJK SC\fs10\b1\bord0.5}

## Left upper margin
text_padding_x=10
text_padding_y=15

# Specify opacity of screen when playlist is opened, value: 0.0 - 1.0 (0 is transparent (default), 1 is opaque)
curtain_opacity=0.7

## Modify MPV window title
set_title_stripped=no
title_prefix=
title_suffix= - mpv

## Truncate long filenames, maximum displayed characters
slice_longfilenames=yes
slice_longfilenames_amount=135

## Playlist header
#%mediatitle or %filename = title or name of playing file
#%pos = position of playing file
#%cursor = navigation position
#%plen = length of playlist
#%N = newline
playlist_header=Playlist [%cursor/%plen]

## Playlist template
#%pos = position of playing file
#%name = title or name of file
#%N = newline
# ASS tags can also be used as mentioned above. For example:
# selected_file={\c&HFF00FF&}➔ %name   | adds color to selected file
# with ASS tags you need to reset them for each line (see https://github.com/jonniek/mpv-playlistmanager/issues/20)
normal_file={\c&HFFFFFF&}□ %name
hovered_file={\c&H33FFFF&}■ %name
selected_file={\c&C1C1FF&}☑ %name
playing_file={\c&HAAAAAA&}▷ %name
playing_hovered_file={\c&H00FF00&}▶ %name
playing_selected_file={\c&C1C1FF&}☑ %name

## Display when playlist is sliced
playlist_sliced_prefix=▲
playlist_sliced_suffix=▼
